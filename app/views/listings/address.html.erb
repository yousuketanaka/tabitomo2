<%= render 'partial/navbar' %>
<div class="container">
    <div class="row row-space">
	    <div class="col-md-3">
	        <!-- vertical-navbar -->
	        <%= render 'partial/verticalnavbar'%>
	    </div>
	    <div class="col-md-9">
	        <div class="panel panel-default">
	            <div class="panel-heading">
	                <div class="text-center">
	                    <span style="font-size:24px;">住所の編集</span>
	                </div>
	            </div>

	            <div class="panel-body">

	                <%= form_for @listing do |f| %>

	                    <div class="row">
	                        <div class="col-md-12">
	                            <div class="form-group">
	                                <label>住所</label>
	                                <%= f.text_field :address, placeholder: "例: 東京都新宿区西新宿3丁目234-3", class: "form-control", required: "true" %>
	                            </div>
	                        </div>
	                    </div>

	                    <h4>My Google Maps</h4>
	                    <div id="map"></div>

	                    <div class="actions">
	                        <%= f.submit "更新", class: "btn btn-danger" %>
	                    </div>
	                <% end %>
	            </div>
	        </div>
	    </div>
    </div> <!-- end of row -->
</div>



<script>
  function initMap() {
    var uluru = {lat: <%=@listing.latitude %>, lng: <%=@listing.longitude %>};
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 14,
      center: uluru
    });
    var marker = new google.maps.Marker({
      position: uluru,
      map: map
    });
  }
</script>
<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBUH0GAPxrsmJwe--8-vQZcokwg2N7GX9o&callback=initMap">
</script>